Update private app data creation and add tests

<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Bolt pretension &#8212; PyMechanical</title>
  
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/ansys-sphinx-theme.css?v=300e4a82" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/ansys-sphinx-theme.css?v=300e4a82" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="https://www.nerdfonts.com/assets/css/webfont.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />


  <!-- Include desired assets -->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  

  
    <link href="../../../_static/css/breadcrumbs.css" rel="stylesheet" />
  
    <script src="../../../_static/documentation_options.js?v=142dd74e"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=49e1bf35"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'examples/gallery_examples/01_basic/bolt_pretension';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://mechanical.docs.pyansys.com/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="icon" href="../../../_static/ansys-favicon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Steady State Thermal Analysis of cooling holes on a representative model" href="cooling_holes_thermal_analysis.html" />
    <link rel="prev" title="Basic Examples" href="index.html" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.12.dev0" />
  <meta property="og:site_name" content="PyAnsys" />
  <meta name="physics" content="Structures" />
  <meta name="physics" content="Structures" />

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="https://docs.pyansys.com/">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/pyansys_logo_transparent_black.png" class="logo__image only-light" alt="PyMechanical - Home"/>
    <img src="../../../_static/pyansys_logo_transparent_white.png" class="logo__image only-dark pst-js-only" alt="PyMechanical - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">

<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../index.html" title="PyMechanical home">Home</a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../getting_started/index.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../user_guide/index.html">
    User guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../api/index.html">
    API reference
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../contribute.html">
    Contribute
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../faq.html">
    FAQs
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../kil/index.html">
    Known issues and limitations
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../changelog.html">
    Release notes
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav>
</div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
</div></div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pymechanical" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pymechanical/discussions" title="Support" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa fa-comment fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Support</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  
  
    <div id="announcement_msg"></div>
<script>
  fetch("announcement.html")
    .then((response) => {
      if (!response.ok) {
        throw new Error(`HTTP error: ${response.status}`);
      }
      return response.text();
    })
    .then(
      (text) => (document.getElementById("announcement_msg").innerHTML = text),
    )
    .catch((error) => console.error(`Fetch problem: ${error.message}`));
</script>
  


  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">

<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../index.html" title="PyMechanical home">Home</a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../getting_started/index.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../user_guide/index.html">
    User guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../api/index.html">
    API reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../contribute.html">
    Contribute
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../faq.html">
    FAQs
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../kil/index.html">
    Known issues and limitations
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../changelog.html">
    Release notes
  </a>
</li>

  </ul>
</nav>
</div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
</div></div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pymechanical" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pymechanical/discussions" title="Support" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa fa-comment fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Support</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Basic Examples</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Bolt pretension</a></li>
<li class="toctree-l2"><a class="reference internal" href="cooling_holes_thermal_analysis.html">Steady State Thermal Analysis of cooling holes on a representative model</a></li>
<li class="toctree-l2"><a class="reference internal" href="fracture_analysis_contact_debonding.html">Fracture analysis - contact debonding</a></li>
<li class="toctree-l2"><a class="reference internal" href="harmonic_acoustics.html">Harmonic acoustic analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="modal_acoustics_analysis.html">Modal acoustics analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="steady_state_thermal_analysis.html">Steady state thermal analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="topology_optimization_cantilever_beam.html">Topology optimization of a simple cantilever beam</a></li>
<li class="toctree-l2"><a class="reference internal" href="valve.html">Basic valve implementation</a></li>
</ul>
</details></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://embedding.examples.mechanical.docs.pyansys.com/examples/index.html">Advanced Examples</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://examples.mechanical.docs.pyansys.com/index.html">Remote Sessions</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">
<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
         
    <li class="breadcrumb-item breadcrumb-home">
      <a href="https://docs.pyansys.com/" class="nav-link">PyAnsys</a>
    </li>
     
    <li class="breadcrumb-item">
      <a
        href="../../../index.html"
        class="nav-link"
        aria-label="Home"
      >
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="../../index.html" class="nav-link">Examples</a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="index.html" class="nav-link">Basic Examples</a>
    </li>
      
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Bolt pretension</span></li>
    
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-examples-gallery-examples-01-basic-bolt-pretension-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="bolt-pretension">
<span id="ref-bolt-pretension"></span><span id="sphx-glr-examples-gallery-examples-01-basic-bolt-pretension-py"></span><h1>Bolt pretension<a class="headerlink" href="#bolt-pretension" title="Link to this heading">#</a></h1>
<p>This example demonstrates how to insert a Static Structural analysis
into a new Mechanical session and execute a sequence of Python scripting
commands that define and solve a bolt-pretension analysis.
Scripts then evaluate the following results: deformation,
equivalent stresses, contact, and bolt.</p>
<section id="import-the-necessary-libraries">
<h2>Import the necessary libraries<a class="headerlink" href="#import-the-necessary-libraries" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">typing</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">PIL</span><span class="w"> </span><span class="kn">import</span> <span class="n">Image</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="kn">import</span> <a href="https://matplotlib.org/stable/api/image_api.html#matplotlib.image.AxesImage" title="matplotlib.image.AxesImage" class="sphx-glr-backref-module-matplotlib-image sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">image</span></a> <span class="k">as</span> <span class="n">mpimg</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib.animation</span><span class="w"> </span><span class="kn">import</span> <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.animation.FuncAnimation.html#matplotlib.animation.FuncAnimation" title="matplotlib.animation.FuncAnimation" class="sphx-glr-backref-module-matplotlib-animation sphx-glr-backref-type-py-class"><span class="n">FuncAnimation</span></a>

<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.mechanical.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">App</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.mechanical.core.examples</span><span class="w"> </span><span class="kn">import</span> <span class="n">delete_downloads</span><span class="p">,</span> <span class="n">download_file</span>
</pre></div>
</div>
</section>
<section id="initialize-the-embedded-application">
<h2>Initialize the embedded application<a class="headerlink" href="#initialize-the-embedded-application" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>

<span class="c1"># Import the enums and global variables instead of using app.update_globals(globals())</span>
<span class="c1"># or App(globals=globals())</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.mechanical.core.embedding.enum_importer</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>  <span class="c1"># noqa: F403</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.mechanical.core.embedding.global_importer</span><span class="w"> </span><span class="kn">import</span> <span class="n">Quantity</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.mechanical.core.embedding.transaction</span><span class="w"> </span><span class="kn">import</span> <span class="n">Transaction</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Ansys Mechanical [Ansys Mechanical Enterprise]
Product Version:252
Software build date: 06/13/2025 11:25:56
</pre></div>
</div>
</section>
<section id="configure-graphics-for-image-export">
<h2>Configure graphics for image export<a class="headerlink" href="#configure-graphics-for-image-export" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set camera orientation</span>
<span class="n">graphics</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">Graphics</span>
<span class="n">camera</span> <span class="o">=</span> <span class="n">graphics</span><span class="o">.</span><span class="n">Camera</span>
<span class="n">camera</span><span class="o">.</span><span class="n">SetSpecificViewOrientation</span><span class="p">(</span><span class="n">ViewOrientationType</span><span class="o">.</span><span class="n">Iso</span><span class="p">)</span>
<span class="n">camera</span><span class="o">.</span><span class="n">SetFit</span><span class="p">()</span>
<span class="n">camera</span><span class="o">.</span><span class="n">Rotate</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="n">CameraAxisType</span><span class="o">.</span><span class="n">ScreenY</span><span class="p">)</span>

<span class="c1"># Set camera settings for 720p resolution</span>
<span class="n">graphics_image_export_settings</span> <span class="o">=</span> <span class="n">Ansys</span><span class="o">.</span><span class="n">Mechanical</span><span class="o">.</span><span class="n">Graphics</span><span class="o">.</span><span class="n">GraphicsImageExportSettings</span><span class="p">()</span>
<span class="n">graphics_image_export_settings</span><span class="o">.</span><span class="n">Resolution</span> <span class="o">=</span> <span class="n">GraphicsResolutionType</span><span class="o">.</span><span class="n">EnhancedResolution</span>
<span class="n">graphics_image_export_settings</span><span class="o">.</span><span class="n">Background</span> <span class="o">=</span> <span class="n">GraphicsBackgroundType</span><span class="o">.</span><span class="n">White</span>
<a href="https://docs.python.org/3/library/functions.html#bool" title="builtins.bool" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">graphics_image_export_settings</span><span class="o">.</span><span class="n">CurrentGraphicsDisplay</span></a> <span class="o">=</span> <span class="kc">False</span>
<a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">graphics_image_export_settings</span><span class="o">.</span><span class="n">Width</span></a> <span class="o">=</span> <span class="mi">1280</span>
<a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">graphics_image_export_settings</span><span class="o">.</span><span class="n">Height</span></a> <span class="o">=</span> <span class="mi">720</span>
</pre></div>
</div>
</section>
<section id="set-the-geometry-import-group-for-the-model">
<h2>Set the geometry import group for the model<a class="headerlink" href="#set-the-geometry-import-group-for-the-model" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set the model</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">Model</span>

<span class="c1"># Create a geometry import group for the model</span>
<span class="n">geometry_import_group</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">GeometryImportGroup</span>
<span class="c1"># Add the geometry import to the group</span>
<span class="n">geometry_import</span> <span class="o">=</span> <span class="n">geometry_import_group</span><span class="o">.</span><span class="n">AddGeometryImport</span><span class="p">()</span>
<span class="c1"># Set the geometry import format</span>
<span class="n">geometry_import_format</span> <span class="o">=</span> <span class="n">Ansys</span><span class="o">.</span><span class="n">Mechanical</span><span class="o">.</span><span class="n">DataModel</span><span class="o">.</span><span class="n">Enums</span><span class="o">.</span><span class="n">GeometryImportPreference</span><span class="o">.</span><span class="n">Format</span><span class="o">.</span><span class="n">Automatic</span>
<span class="c1"># Set the geometry import preferences</span>
<span class="n">geometry_import_preferences</span> <span class="o">=</span> <span class="n">Ansys</span><span class="o">.</span><span class="n">ACT</span><span class="o">.</span><span class="n">Mechanical</span><span class="o">.</span><span class="n">Utilities</span><span class="o">.</span><span class="n">GeometryImportPreferences</span><span class="p">()</span>
<a href="https://docs.python.org/3/library/functions.html#bool" title="builtins.bool" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">geometry_import_preferences</span><span class="o">.</span><span class="n">ProcessNamedSelections</span></a> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="download-and-import-the-geometry">
<h2>Download and import the geometry<a class="headerlink" href="#download-and-import-the-geometry" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download the geometry file from the ansys/example-data repository</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">geometry_path</span></a> <span class="o">=</span> <span class="n">download_file</span><span class="p">(</span><span class="s2">&quot;example_06_bolt_pret_geom.agdb&quot;</span><span class="p">,</span> <span class="s2">&quot;pymechanical&quot;</span><span class="p">,</span> <span class="s2">&quot;00_basic&quot;</span><span class="p">)</span>

<span class="c1"># Import/reload the geometry from the CAD (.agdb) file using the provided preferences</span>
<span class="n">geometry_import</span><span class="o">.</span><span class="n">Import</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">geometry_path</span></a><span class="p">,</span> <span class="n">geometry_import_format</span><span class="p">,</span> <span class="n">geometry_import_preferences</span><span class="p">)</span>


<span class="c1"># Visualize the model in 3D</span>
<span class="n">app</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-0">
Static Scene</label><div class="sd-tab-content docutils">
<img src="../../../_images/sphx_glr_bolt_pretension_001.png" srcset="../../../_images/sphx_glr_bolt_pretension_001.png" alt="bolt pretension" class = "sphx-glr-single-img"/></div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-1">
Interactive Scene</label><div class="sd-tab-content docutils">
<iframe src='../../../_static/static_viewer.html?fileURL=../_images/examples/gallery_examples/01_basic/images/sphx_glr_bolt_pretension_001.vtksz' width='100%%' height='400px' frameborder='0'></iframe></div>
</div>
</section>
<section id="download-and-import-the-materials">
<h2>Download and import the materials<a class="headerlink" href="#download-and-import-the-materials" title="Link to this heading">#</a></h2>
<p>Download the material files from the ansys/example-data repository</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">copper_material_file_path</span></a> <span class="o">=</span> <span class="n">download_file</span><span class="p">(</span><span class="s2">&quot;example_06_Mat_Copper.xml&quot;</span><span class="p">,</span> <span class="s2">&quot;pymechanical&quot;</span><span class="p">,</span> <span class="s2">&quot;00_basic&quot;</span><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">steel_material_file_path</span></a> <span class="o">=</span> <span class="n">download_file</span><span class="p">(</span><span class="s2">&quot;example_06_Mat_Steel.xml&quot;</span><span class="p">,</span> <span class="s2">&quot;pymechanical&quot;</span><span class="p">,</span> <span class="s2">&quot;00_basic&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Add materials to the model and import the material files</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">model_materials</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Materials</span>
<span class="n">model_materials</span><span class="o">.</span><span class="n">Import</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">copper_material_file_path</span></a><span class="p">)</span>
<span class="n">model_materials</span><span class="o">.</span><span class="n">Import</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">steel_material_file_path</span></a><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="define-analysis-and-unit-system">
<h2>Define analysis and unit system<a class="headerlink" href="#define-analysis-and-unit-system" title="Link to this heading">#</a></h2>
<p>Add static structural analysis to the model</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">AddStaticStructuralAnalysis</span><span class="p">()</span>
<span class="n">static_structural</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Analyses</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">static_structural_solution</span> <span class="o">=</span> <span class="n">static_structural</span><span class="o">.</span><span class="n">Solution</span>
<span class="n">static_structural_analysis_setting</span> <span class="o">=</span> <span class="n">static_structural</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Store the named selections</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">named_selections_dictionary</span></a> <span class="o">=</span> <span class="p">{}</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">named_selections_list</span></a> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;block3_block2_cont&quot;</span><span class="p">,</span>
    <span class="s2">&quot;block3_block2_targ&quot;</span><span class="p">,</span>
    <span class="s2">&quot;shank_block3_cont&quot;</span><span class="p">,</span>
    <span class="s2">&quot;shank_block3_targ&quot;</span><span class="p">,</span>
    <span class="s2">&quot;block1_washer_cont&quot;</span><span class="p">,</span>
    <span class="s2">&quot;block1_washer_targ&quot;</span><span class="p">,</span>
    <span class="s2">&quot;washer_bolt_cont&quot;</span><span class="p">,</span>
    <span class="s2">&quot;washer_bolt_targ&quot;</span><span class="p">,</span>
    <span class="s2">&quot;shank_bolt_targ&quot;</span><span class="p">,</span>
    <span class="s2">&quot;shank_bolt_cont&quot;</span><span class="p">,</span>
    <span class="s2">&quot;block2_block1_cont&quot;</span><span class="p">,</span>
    <span class="s2">&quot;block2_block1_targ&quot;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Set the unit system to Standard NMM</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">ExtAPI</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">ActiveUnitSystem</span> <span class="o">=</span> <span class="n">MechanicalUnitSystem</span><span class="o">.</span><span class="n">StandardNMM</span>
</pre></div>
</div>
<p>Get tree objects for each named selection</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">named_selection</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">named_selections_list</span></a><span class="p">:</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">named_selections_dictionary</span></a><span class="p">[</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">named_selection</span></a><span class="p">]</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">DataModel</span><span class="o">.</span><span class="n">GetObjectsByName</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">named_selection</span></a><span class="p">)[</span>
        <span class="mi">0</span>
    <span class="p">]</span>
</pre></div>
</div>
<p>Create a list with material assignment for each <code class="docutils literal notranslate"><span class="pre">model.Geometry.Children</span></code> index</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">children_materials</span></a> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Steel&quot;</span><span class="p">,</span> <span class="s2">&quot;Copper&quot;</span><span class="p">,</span> <span class="s2">&quot;Copper&quot;</span><span class="p">,</span> <span class="s2">&quot;Steel&quot;</span><span class="p">,</span> <span class="s2">&quot;Steel&quot;</span><span class="p">,</span> <span class="s2">&quot;Steel&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Assign surface materials to the <code class="docutils literal notranslate"><span class="pre">model.Geometry</span></code> bodies</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">geometry</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Geometry</span>
<span class="k">for</span> <a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">children_index</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">material_name</span></a> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">children_materials</span></a><span class="p">):</span>
    <span class="c1"># Get the surface of the body</span>
    <span class="n">surface</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">children_index</span></a><span class="p">]</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="c1"># Assign the material to the surface</span>
    <span class="n">surface</span><span class="o">.</span><span class="n">Material</span> <span class="o">=</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">material_name</span></a>
</pre></div>
</div>
</section>
<section id="add-and-define-a-coordinate-system">
<h2>Add and define a coordinate system<a class="headerlink" href="#add-and-define-a-coordinate-system" title="Link to this heading">#</a></h2>
<p>Add a coordinate system to the model</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">coordinate_systems</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">CoordinateSystems</span>
<span class="n">coordinate_system</span> <span class="o">=</span> <span class="n">coordinate_systems</span><span class="o">.</span><span class="n">AddCoordinateSystem</span><span class="p">()</span>
</pre></div>
</div>
<p>Define the coordinate system and set its axis properties</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">coordinate_system</span><span class="o">.</span><span class="n">OriginDefineBy</span> <span class="o">=</span> <span class="n">CoordinateSystemAlignmentType</span><span class="o">.</span><span class="n">Fixed</span>
<span class="n">coordinate_system</span><span class="o">.</span><span class="n">OriginX</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="o">-</span><span class="mi">195</span><span class="p">,</span> <span class="s2">&quot;mm&quot;</span><span class="p">)</span>
<span class="n">coordinate_system</span><span class="o">.</span><span class="n">OriginY</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s2">&quot;mm&quot;</span><span class="p">)</span>
<span class="n">coordinate_system</span><span class="o">.</span><span class="n">OriginZ</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="s2">&quot;mm&quot;</span><span class="p">)</span>
<span class="n">coordinate_system</span><span class="o">.</span><span class="n">PrimaryAxis</span> <span class="o">=</span> <span class="n">CoordinateSystemAxisType</span><span class="o">.</span><span class="n">PositiveZAxis</span>
</pre></div>
</div>
</section>
<section id="create-functions-for-contact-region-set-up">
<h2>Create functions for contact region set up<a class="headerlink" href="#create-functions-for-contact-region-set-up" title="Link to this heading">#</a></h2>
<p>Add a contact region to the body with the specified source location, target location,
and contact type</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">set_contact_region_locations_and_types</span><span class="p">(</span>
    <span class="n">body</span><span class="p">:</span> <a href="https://docs.python.org/3/library/typing.html#typing.Union" title="typing.Union" class="sphx-glr-backref-module-typing sphx-glr-backref-type-py-data"><span class="n">typing</span><span class="o">.</span><span class="n">Union</span></a><span class="p">[</span>
        <span class="n">Ansys</span><span class="o">.</span><span class="n">ACT</span><span class="o">.</span><span class="n">Automation</span><span class="o">.</span><span class="n">Mechanical</span><span class="o">.</span><span class="n">Connections</span><span class="p">,</span>
        <span class="n">Ansys</span><span class="o">.</span><span class="n">ACT</span><span class="o">.</span><span class="n">Automation</span><span class="o">.</span><span class="n">Mechanical</span><span class="o">.</span><span class="n">Connections</span><span class="o">.</span><span class="n">ConnectionGroup</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="n">source_location</span><span class="p">:</span> <span class="n">Ansys</span><span class="o">.</span><span class="n">ACT</span><span class="o">.</span><span class="n">Automation</span><span class="o">.</span><span class="n">Mechanical</span><span class="o">.</span><span class="n">NamedSelection</span><span class="p">,</span>
    <span class="n">target_location</span><span class="p">:</span> <span class="n">Ansys</span><span class="o">.</span><span class="n">ACT</span><span class="o">.</span><span class="n">Automation</span><span class="o">.</span><span class="n">Mechanical</span><span class="o">.</span><span class="n">NamedSelection</span><span class="p">,</span>
    <span class="n">contact_type</span><span class="p">:</span> <span class="n">ContactType</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Ansys</span><span class="o">.</span><span class="n">ACT</span><span class="o">.</span><span class="n">Automation</span><span class="o">.</span><span class="n">Mechanical</span><span class="o">.</span><span class="n">Connections</span><span class="o">.</span><span class="n">ContactRegion</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add a contact region to the body with the specified source location, target location,</span>
<span class="sd">    and contact type.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    body : Ansys.ACT.Automation.Mechanical.Connections or</span>
<span class="sd">    Ansys.ACT.Automation.Mechanical.Connections.ConnectionGroup</span>
<span class="sd">        The body to which the contact region will be added.</span>
<span class="sd">    source_location : Ansys.ACT.Automation.Mechanical.NamedSelection</span>
<span class="sd">        The source location for the contact region.</span>
<span class="sd">    target_location : Ansys.ACT.Automation.Mechanical.NamedSelection</span>
<span class="sd">        The target location for the contact region.</span>
<span class="sd">    contact_type : ContactType</span>
<span class="sd">        The type of contact for the contact region.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Ansys.ACT.Automation.Mechanical.Connections.ContactRegion</span>
<span class="sd">        The created contact region.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">contact_region</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">AddContactRegion</span><span class="p">()</span>
    <span class="n">contact_region</span><span class="o">.</span><span class="n">SourceLocation</span> <span class="o">=</span> <span class="n">source_location</span>
    <span class="n">contact_region</span><span class="o">.</span><span class="n">TargetLocation</span> <span class="o">=</span> <span class="n">target_location</span>
    <span class="n">contact_region</span><span class="o">.</span><span class="n">ContactType</span> <span class="o">=</span> <span class="n">contact_type</span>
    <span class="k">return</span> <span class="n">contact_region</span>
</pre></div>
</div>
<p>Set the friction coefficient, small sliding, and update stiffness settings for the contact region</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">advanced_contact_settings</span><span class="p">(</span>
    <span class="n">contact_region</span><span class="p">:</span> <span class="n">Ansys</span><span class="o">.</span><span class="n">ACT</span><span class="o">.</span><span class="n">Automation</span><span class="o">.</span><span class="n">Mechanical</span><span class="o">.</span><span class="n">Connections</span><span class="o">.</span><span class="n">ContactRegion</span><span class="p">,</span>
    <span class="n">friction_coefficient</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">small_sliding</span><span class="p">:</span> <span class="n">ContactSmallSlidingType</span><span class="p">,</span>
    <span class="n">update_stiffness</span><span class="p">:</span> <span class="n">UpdateContactStiffness</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set the friction coefficient, small sliding, and update stiffness settings for the</span>
<span class="sd">    contact region.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    contact_region : Ansys.ACT.Automation.Mechanical.Connections.ContactRegion</span>
<span class="sd">        The contact region to set the settings for.</span>
<span class="sd">    friction_coefficient : int</span>
<span class="sd">        The friction coefficient for the contact region.</span>
<span class="sd">    small_sliding : ContactSmallSlidingType</span>
<span class="sd">        The small sliding setting for the contact region.</span>
<span class="sd">    update_stiffness : UpdateContactStiffness</span>
<span class="sd">        The update stiffness setting for the contact region.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">contact_region</span><span class="o">.</span><span class="n">FrictionCoefficient</span> <span class="o">=</span> <span class="n">friction_coefficient</span>
    <span class="n">contact_region</span><span class="o">.</span><span class="n">SmallSliding</span> <span class="o">=</span> <span class="n">small_sliding</span>
    <span class="n">contact_region</span><span class="o">.</span><span class="n">UpdateStiffness</span> <span class="o">=</span> <span class="n">update_stiffness</span>
</pre></div>
</div>
<p>Add a command snippet to the contact region with the specified Archard Wear Model</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">add_command_snippet</span><span class="p">(</span>
    <span class="n">contact_region</span><span class="p">:</span> <span class="n">Ansys</span><span class="o">.</span><span class="n">ACT</span><span class="o">.</span><span class="n">Automation</span><span class="o">.</span><span class="n">Mechanical</span><span class="o">.</span><span class="n">Connections</span><span class="o">.</span><span class="n">ContactRegion</span><span class="p">,</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">archard_wear_model</span></a><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add a command snippet to the contact region with the specified Archard Wear Model.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    contact_region : Ansys.ACT.Automation.Mechanical.Connections.ContactRegion</span>
<span class="sd">        The contact region to add the command snippet to.</span>
<span class="sd">    archard_wear_model : str</span>
<span class="sd">        The Archard Wear Model command snippet to add to the contact region.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">contact_region_cmd</span> <span class="o">=</span> <span class="n">contact_region</span><span class="o">.</span><span class="n">AddCommandSnippet</span><span class="p">()</span>
    <span class="n">contact_region_cmd</span><span class="o">.</span><span class="n">AppendText</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">archard_wear_model</span></a><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="add-and-define-contact-regions">
<h2>Add and define contact regions<a class="headerlink" href="#add-and-define-contact-regions" title="Link to this heading">#</a></h2>
<p>Set up the model connections and delete the existing connections for ConnectionGroups</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">connections</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Connections</span>
<span class="k">for</span> <span class="n">connection</span> <span class="ow">in</span> <span class="n">connections</span><span class="o">.</span><span class="n">Children</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">DataModelObjectCategory</span> <span class="o">==</span> <span class="n">DataModelObjectCategory</span><span class="o">.</span><span class="n">ConnectionGroup</span><span class="p">:</span>
        <span class="n">app</span><span class="o">.</span><span class="n">DataModel</span><span class="o">.</span><span class="n">Remove</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the archard wear model and get the named selections from the model</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set the archard wear model</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">archard_wear_model</span></a> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;keyopt,cid,9,5</span>
<span class="s2">rmodif,cid,10,0.00</span>
<span class="s2">rmodif,cid,23,0.001&quot;&quot;&quot;</span>

<span class="c1"># Get named selections from the model for contact regions</span>
<span class="n">named_selections</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">NamedSelections</span>
</pre></div>
</div>
<p>Add a contact region for the model’s named selections Children 0 and 1 with the specified
contact type</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">contact_region</span> <span class="o">=</span> <span class="n">set_contact_region_locations_and_types</span><span class="p">(</span>
    <span class="n">body</span><span class="o">=</span><span class="n">connections</span><span class="p">,</span>
    <span class="n">source_location</span><span class="o">=</span><span class="n">named_selections</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="n">target_location</span><span class="o">=</span><span class="n">named_selections</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">contact_type</span><span class="o">=</span><span class="n">ContactType</span><span class="o">.</span><span class="n">Frictional</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># Set the friction coefficient, small sliding, and update stiffness settings for the contact region</span>
<span class="n">advanced_contact_settings</span><span class="p">(</span>
    <span class="n">contact_region</span><span class="o">=</span><span class="n">contact_region</span><span class="p">,</span>
    <span class="n">friction_coefficient</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
    <span class="n">small_sliding</span><span class="o">=</span><span class="n">ContactSmallSlidingType</span><span class="o">.</span><span class="n">Off</span><span class="p">,</span>
    <span class="n">update_stiffness</span><span class="o">=</span><span class="n">UpdateContactStiffness</span><span class="o">.</span><span class="n">Never</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># Add a command snippet to the contact region with the specified Archard Wear Model</span>
<span class="n">add_command_snippet</span><span class="p">(</span><span class="n">contact_region</span><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">archard_wear_model</span></a><span class="p">)</span>
</pre></div>
</div>
<p>Set the connection group for the contact regions</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">connection_group</span> <span class="o">=</span> <span class="n">connections</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Add a contact region for the model’s named selections Children 2 and 3 with the specified
contact type</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">contact_region_2</span> <span class="o">=</span> <span class="n">set_contact_region_locations_and_types</span><span class="p">(</span>
    <span class="n">body</span><span class="o">=</span><span class="n">connection_group</span><span class="p">,</span>
    <span class="n">source_location</span><span class="o">=</span><span class="n">named_selections</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
    <span class="n">target_location</span><span class="o">=</span><span class="n">named_selections</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
    <span class="n">contact_type</span><span class="o">=</span><span class="n">ContactType</span><span class="o">.</span><span class="n">Bonded</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">contact_region_2</span><span class="o">.</span><span class="n">ContactFormulation</span> <span class="o">=</span> <span class="n">ContactFormulation</span><span class="o">.</span><span class="n">MPC</span>
</pre></div>
</div>
<p>Add a contact region for the model’s named selections Children 4 and 5 with the specified
contact type</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">contact_region_3</span> <span class="o">=</span> <span class="n">set_contact_region_locations_and_types</span><span class="p">(</span>
    <span class="n">body</span><span class="o">=</span><span class="n">connection_group</span><span class="p">,</span>
    <span class="n">source_location</span><span class="o">=</span><span class="n">named_selections</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
    <span class="n">target_location</span><span class="o">=</span><span class="n">named_selections</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
    <span class="n">contact_type</span><span class="o">=</span><span class="n">ContactType</span><span class="o">.</span><span class="n">Frictional</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># Set the friction coefficient, small sliding, and update stiffness settings for the contact region</span>
<span class="n">advanced_contact_settings</span><span class="p">(</span>
    <span class="n">contact_region</span><span class="o">=</span><span class="n">contact_region_3</span><span class="p">,</span>
    <span class="n">friction_coefficient</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
    <span class="n">small_sliding</span><span class="o">=</span><span class="n">ContactSmallSlidingType</span><span class="o">.</span><span class="n">Off</span><span class="p">,</span>
    <span class="n">update_stiffness</span><span class="o">=</span><span class="n">UpdateContactStiffness</span><span class="o">.</span><span class="n">Never</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># Add a command snippet to the contact region with the specified Archard Wear Model</span>
<span class="n">add_command_snippet</span><span class="p">(</span><span class="n">contact_region_3</span><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">archard_wear_model</span></a><span class="p">)</span>
</pre></div>
</div>
<p>Add a contact region for the model’s named selections Children 6 and 7 with the specified
contact type</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">contact_region_4</span> <span class="o">=</span> <span class="n">set_contact_region_locations_and_types</span><span class="p">(</span>
    <span class="n">body</span><span class="o">=</span><span class="n">connection_group</span><span class="p">,</span>
    <span class="n">source_location</span><span class="o">=</span><span class="n">named_selections</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
    <span class="n">target_location</span><span class="o">=</span><span class="n">named_selections</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
    <span class="n">contact_type</span><span class="o">=</span><span class="n">ContactType</span><span class="o">.</span><span class="n">Bonded</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">contact_region_4</span><span class="o">.</span><span class="n">ContactFormulation</span> <span class="o">=</span> <span class="n">ContactFormulation</span><span class="o">.</span><span class="n">MPC</span>
</pre></div>
</div>
<p>Add a contact region for the model’s named selections Children 8 and 9 with the specified
contact type</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">contact_region_5</span> <span class="o">=</span> <span class="n">set_contact_region_locations_and_types</span><span class="p">(</span>
    <span class="n">body</span><span class="o">=</span><span class="n">connection_group</span><span class="p">,</span>
    <span class="n">source_location</span><span class="o">=</span><span class="n">named_selections</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
    <span class="n">target_location</span><span class="o">=</span><span class="n">named_selections</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
    <span class="n">contact_type</span><span class="o">=</span><span class="n">ContactType</span><span class="o">.</span><span class="n">Bonded</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">contact_region_5</span><span class="o">.</span><span class="n">ContactFormulation</span> <span class="o">=</span> <span class="n">ContactFormulation</span><span class="o">.</span><span class="n">MPC</span>
</pre></div>
</div>
<p>Add a contact region for the model’s named selections Children 10 and 11 with the specified
contact type</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">contact_region_6</span> <span class="o">=</span> <span class="n">set_contact_region_locations_and_types</span><span class="p">(</span>
    <span class="n">body</span><span class="o">=</span><span class="n">connection_group</span><span class="p">,</span>
    <span class="n">source_location</span><span class="o">=</span><span class="n">named_selections</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span>
    <span class="n">target_location</span><span class="o">=</span><span class="n">named_selections</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span>
    <span class="n">contact_type</span><span class="o">=</span><span class="n">ContactType</span><span class="o">.</span><span class="n">Frictional</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># Set the friction coefficient, small sliding, and update stiffness settings for the contact region</span>
<span class="n">advanced_contact_settings</span><span class="p">(</span>
    <span class="n">contact_region</span><span class="o">=</span><span class="n">contact_region_6</span><span class="p">,</span>
    <span class="n">friction_coefficient</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
    <span class="n">small_sliding</span><span class="o">=</span><span class="n">ContactSmallSlidingType</span><span class="o">.</span><span class="n">Off</span><span class="p">,</span>
    <span class="n">update_stiffness</span><span class="o">=</span><span class="n">UpdateContactStiffness</span><span class="o">.</span><span class="n">Never</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># Add a command snippet to the contact region with the specified Archard Wear Model</span>
<span class="n">add_command_snippet</span><span class="p">(</span><span class="n">contact_region_6</span><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">archard_wear_model</span></a><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="create-functions-to-set-up-the-mesh">
<h2>Create functions to set up the mesh<a class="headerlink" href="#create-functions-to-set-up-the-mesh" title="Link to this heading">#</a></h2>
<p>Set the mesh method location for the specified method and object name</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">set_mesh_method_location</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">object_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">location_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set the location of the method based on the specified name and location type.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    method : Ansys.ACT.Automation.Mechanical.MeshMethod</span>
<span class="sd">        The method to set the location for.</span>
<span class="sd">    object_name : str</span>
<span class="sd">        The name of the object to set the location for.</span>
<span class="sd">    location_type : str, optional</span>
<span class="sd">        The type of location to set for the method. Can be &quot;source&quot;, &quot;target&quot;, or empty string.</span>
<span class="sd">        Default is an empty string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Get the tree object for the specified name</span>
    <span class="n">tree_obj</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">DataModel</span><span class="o">.</span><span class="n">GetObjectsByName</span><span class="p">(</span><span class="n">object_name</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># Set the method location based on the specified location type</span>
    <span class="k">if</span> <span class="n">location_type</span> <span class="o">==</span> <span class="s2">&quot;source&quot;</span><span class="p">:</span>
        <span class="n">method</span><span class="o">.</span><span class="n">SourceLocation</span> <span class="o">=</span> <span class="n">tree_obj</span>
    <span class="k">elif</span> <span class="n">location_type</span> <span class="o">==</span> <span class="s2">&quot;target&quot;</span><span class="p">:</span>
        <span class="n">method</span><span class="o">.</span><span class="n">TargetLocation</span> <span class="o">=</span> <span class="n">tree_obj</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">method</span><span class="o">.</span><span class="n">Location</span> <span class="o">=</span> <span class="n">tree_obj</span>
</pre></div>
</div>
<p>Add a mesh sizing to the mesh with the specified name, quantity value, and measurement</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">add_mesh_sizing</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">object_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">element_size</span><span class="p">:</span> <span class="n">Quantity</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add a mesh sizing to the mesh with the specified name, quantity value, and measurement.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    mesh : Ansys.ACT.Automation.Mechanical.Mesh</span>
<span class="sd">        The mesh to add the sizing to.</span>
<span class="sd">    object_name : str</span>
<span class="sd">        The name of the object to set the sizing for.</span>
<span class="sd">    element_size : Quantity</span>
<span class="sd">        The element size for the mesh sizing.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Add sizing to the mesh</span>
    <span class="n">body_sizing</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">AddSizing</span><span class="p">()</span>
    <span class="c1"># Get the tree object for the specified name</span>
    <span class="n">body_sizing</span><span class="o">.</span><span class="n">Location</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">DataModel</span><span class="o">.</span><span class="n">GetObjectsByName</span><span class="p">(</span><span class="n">object_name</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># Set the element size to the mesh</span>
    <span class="n">body_sizing</span><span class="o">.</span><span class="n">ElementSize</span> <span class="o">=</span> <span class="n">element_size</span>
</pre></div>
</div>
</section>
<section id="add-mesh-methods-sizing-and-face-meshing">
<h2>Add mesh methods, sizing, and face meshing<a class="headerlink" href="#add-mesh-methods-sizing-and-face-meshing" title="Link to this heading">#</a></h2>
<p>Add the mesh sizing to the <code class="docutils literal notranslate"><span class="pre">bodies_5</span></code> and <code class="docutils literal notranslate"><span class="pre">shank</span></code> objects</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">mesh</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Mesh</span>
<span class="n">add_mesh_sizing</span><span class="p">(</span><span class="n">mesh</span><span class="o">=</span><span class="n">mesh</span><span class="p">,</span> <span class="n">object_name</span><span class="o">=</span><span class="s2">&quot;bodies_5&quot;</span><span class="p">,</span> <span class="n">element_size</span><span class="o">=</span><span class="n">Quantity</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="s2">&quot;mm&quot;</span><span class="p">))</span>
<span class="n">add_mesh_sizing</span><span class="p">(</span><span class="n">mesh</span><span class="o">=</span><span class="n">mesh</span><span class="p">,</span> <span class="n">object_name</span><span class="o">=</span><span class="s2">&quot;shank&quot;</span><span class="p">,</span> <span class="n">element_size</span><span class="o">=</span><span class="n">Quantity</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;mm&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>Add an automatic method to the mesh and set the method type</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">hex_method</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">AddAutomaticMethod</span><span class="p">()</span>
<span class="n">hex_method</span><span class="o">.</span><span class="n">Method</span> <span class="o">=</span> <span class="n">MethodType</span><span class="o">.</span><span class="n">Automatic</span>
<span class="c1"># Set the method location for the all_bodies object</span>
<span class="n">set_mesh_method_location</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">hex_method</span><span class="p">,</span> <span class="n">object_name</span><span class="o">=</span><span class="s2">&quot;all_bodies&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Add face meshing to the mesh and set the MappedMesh property to False</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">face_meshing</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">AddFaceMeshing</span><span class="p">()</span>
<span class="n">face_meshing</span><span class="o">.</span><span class="n">MappedMesh</span> <span class="o">=</span> <span class="kc">False</span>
<span class="c1"># Set the method location for the face meshing</span>
<span class="n">set_mesh_method_location</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">face_meshing</span><span class="p">,</span> <span class="n">object_name</span><span class="o">=</span><span class="s2">&quot;shank_face&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Add an automatic method to the mesh, set the method type, and set the source target selection</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">sweep_method</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">AddAutomaticMethod</span><span class="p">()</span>
<span class="n">sweep_method</span><span class="o">.</span><span class="n">Method</span> <span class="o">=</span> <span class="n">MethodType</span><span class="o">.</span><span class="n">Sweep</span>
<span class="n">sweep_method</span><span class="o">.</span><span class="n">SourceTargetSelection</span> <span class="o">=</span> <span class="mi">2</span>
<span class="c1"># Set the method locations for the shank, shank_face, and shank_face2 objects</span>
<span class="n">set_mesh_method_location</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">sweep_method</span><span class="p">,</span> <span class="n">object_name</span><span class="o">=</span><span class="s2">&quot;shank&quot;</span><span class="p">)</span>
<span class="n">set_mesh_method_location</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">sweep_method</span><span class="p">,</span> <span class="n">object_name</span><span class="o">=</span><span class="s2">&quot;shank_face&quot;</span><span class="p">,</span> <span class="n">location_type</span><span class="o">=</span><span class="s2">&quot;source&quot;</span><span class="p">)</span>
<span class="n">set_mesh_method_location</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">sweep_method</span><span class="p">,</span> <span class="n">object_name</span><span class="o">=</span><span class="s2">&quot;shank_face2&quot;</span><span class="p">,</span> <span class="n">location_type</span><span class="o">=</span><span class="s2">&quot;target&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Activate and generate the mesh</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">mesh</span><span class="o">.</span><span class="n">Activate</span><span class="p">()</span>
<span class="n">mesh</span><span class="o">.</span><span class="n">GenerateMesh</span><span class="p">()</span>

<span class="c1"># Fit the view to the entire model</span>
<span class="n">camera</span><span class="o">.</span><span class="n">SetFit</span><span class="p">()</span>
<span class="c1"># Set the path for the output files (images, gifs, mechdat)</span>
<a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">output_path</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.cwd" title="pathlib.Path.cwd" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-method"><span class="n">Path</span><span class="o">.</span><span class="n">cwd</span></a><span class="p">()</span> <span class="o">/</span> <span class="s2">&quot;out&quot;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">mesh_image_path</span></a> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">output_path</span></a> <span class="o">/</span> <span class="s2">&quot;mesh.png&quot;</span><span class="p">)</span>
<span class="c1"># Set the image export format and export the image</span>
<span class="n">image_export_format</span> <span class="o">=</span> <span class="n">GraphicsImageExportFormat</span><span class="o">.</span><span class="n">PNG</span>
<span class="n">graphics</span><span class="o">.</span><span class="n">ExportImage</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">mesh_image_path</span></a><span class="p">,</span> <span class="n">image_export_format</span><span class="p">,</span> <span class="n">graphics_image_export_settings</span><span class="p">)</span>
</pre></div>
</div>
<p>Create a function to display the image using matplotlib</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">display_image</span><span class="p">(</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">image_path</span></a><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">pyplot_figsize_coordinates</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
    <span class="n">plot_xticks</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[],</span>
    <span class="n">plot_yticks</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[],</span>
    <span class="n">plot_axis</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;off&quot;</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Display the image with the specified parameters.&quot;&quot;&quot;</span>
    <span class="c1"># Set the figure size based on the coordinates specified</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.figure.html#matplotlib.pyplot.figure" title="matplotlib.pyplot.figure" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">figure</span></a><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">pyplot_figsize_coordinates</span><span class="p">)</span>

    <span class="c1"># Read the image from the file into an array</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.imshow.html#matplotlib.pyplot.imshow" title="matplotlib.pyplot.imshow" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span></a><span class="p">(</span><a href="https://matplotlib.org/stable/api/image_api.html#matplotlib.image.imread" title="matplotlib.image.imread" class="sphx-glr-backref-module-matplotlib-image sphx-glr-backref-type-py-function"><span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">image_path</span></a><span class="p">))</span>

    <span class="c1"># Get or set the current tick locations and labels of the x-axis</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.xticks.html#matplotlib.pyplot.xticks" title="matplotlib.pyplot.xticks" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">xticks</span></a><span class="p">(</span><span class="n">plot_xticks</span><span class="p">)</span>
    <span class="c1"># Get or set the current tick locations and labels of the y-axis</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.yticks.html#matplotlib.pyplot.yticks" title="matplotlib.pyplot.yticks" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">yticks</span></a><span class="p">(</span><span class="n">plot_yticks</span><span class="p">)</span>
    <span class="c1"># Turn off the axis</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.axis.html#matplotlib.pyplot.axis" title="matplotlib.pyplot.axis" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">axis</span></a><span class="p">(</span><span class="n">plot_axis</span><span class="p">)</span>
    <span class="c1"># Display the figure</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.show.html#matplotlib.pyplot.show" title="matplotlib.pyplot.show" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>
</pre></div>
</div>
<p>Display the mesh image</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">display_image</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">mesh_image_path</span></a><span class="p">)</span>
</pre></div>
</div>
<img src="../../../_images/sphx_glr_bolt_pretension_002.png" srcset="../../../_images/sphx_glr_bolt_pretension_002.png" alt="bolt pretension" class = "sphx-glr-single-img"/></section>
<section id="analysis-settings">
<h2>Analysis settings<a class="headerlink" href="#analysis-settings" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set the number of steps for the static structural analysis</span>
<span class="n">static_structural_analysis_setting</span><span class="o">.</span><span class="n">NumberOfSteps</span> <span class="o">=</span> <span class="mi">4</span>

<span class="c1"># Set the step index list</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">step_index_list</span></a> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># Set the automatic time stepping method for the static structural analysis</span>
<span class="c1"># based on the step index</span>
<span class="k">with</span> <span class="n">Transaction</span><span class="p">():</span>
    <span class="k">for</span> <a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">step_index</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">step_index_list</span></a><span class="p">:</span>
        <span class="n">static_structural_analysis_setting</span><span class="o">.</span><span class="n">SetAutomaticTimeStepping</span><span class="p">(</span>
            <a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">step_index</span></a><span class="p">,</span> <span class="n">AutomaticTimeStepping</span><span class="o">.</span><span class="n">Off</span>
        <span class="p">)</span>

<span class="c1"># Set the number of substeps for the static structural analysis</span>
<span class="c1"># based on the step index</span>
<span class="k">with</span> <span class="n">Transaction</span><span class="p">():</span>
    <span class="k">for</span> <a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">step_index</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">step_index_list</span></a><span class="p">:</span>
        <span class="n">static_structural_analysis_setting</span><span class="o">.</span><span class="n">SetNumberOfSubSteps</span><span class="p">(</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">step_index</span></a><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># Activate the static structural analysis settings</span>
<span class="n">static_structural_analysis_setting</span><span class="o">.</span><span class="n">Activate</span><span class="p">()</span>

<span class="c1"># Set the solver type and solver pivoting check for the static structural analysis</span>
<span class="n">static_structural_analysis_setting</span><span class="o">.</span><span class="n">SolverType</span> <span class="o">=</span> <span class="n">SolverType</span><span class="o">.</span><span class="n">Direct</span>
<span class="n">static_structural_analysis_setting</span><span class="o">.</span><span class="n">SolverPivotChecking</span> <span class="o">=</span> <span class="n">SolverPivotChecking</span><span class="o">.</span><span class="n">Off</span>
</pre></div>
</div>
</section>
<section id="define-loads-and-boundary-conditions">
<h2>Define loads and boundary conditions<a class="headerlink" href="#define-loads-and-boundary-conditions" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add fixed support to the static structural analysis</span>
<span class="n">fixed_support</span> <span class="o">=</span> <span class="n">static_structural</span><span class="o">.</span><span class="n">AddFixedSupport</span><span class="p">()</span>
<span class="c1"># Set the fixed support location for the block2_surface object</span>
<span class="n">set_mesh_method_location</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">fixed_support</span><span class="p">,</span> <span class="n">object_name</span><span class="o">=</span><span class="s2">&quot;block2_surface&quot;</span><span class="p">)</span>

<span class="c1"># Create a new force on the static structural analysis</span>
<span class="n">tabular_force</span> <span class="o">=</span> <span class="n">static_structural</span><span class="o">.</span><span class="n">AddForce</span><span class="p">()</span>
<span class="c1"># Set the force location for the bottom_surface object</span>
<span class="n">set_mesh_method_location</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">tabular_force</span><span class="p">,</span> <span class="n">object_name</span><span class="o">=</span><span class="s2">&quot;bottom_surface&quot;</span><span class="p">)</span>

<span class="c1"># Define the tabular force input and output components</span>
<span class="n">tabular_force</span><span class="o">.</span><span class="n">DefineBy</span> <span class="o">=</span> <span class="n">LoadDefineBy</span><span class="o">.</span><span class="n">Components</span>
<span class="n">tabular_force</span><span class="o">.</span><span class="n">XComponent</span><span class="o">.</span><span class="n">Inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">DiscreteValues</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">),</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">),</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">),</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">),</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">),</span>
<span class="p">]</span>
<span class="n">tabular_force</span><span class="o">.</span><span class="n">XComponent</span><span class="o">.</span><span class="n">Output</span><span class="o">.</span><span class="n">DiscreteValues</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;N&quot;</span><span class="p">),</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;N&quot;</span><span class="p">),</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mf">5.0e005</span><span class="p">,</span> <span class="s2">&quot;N&quot;</span><span class="p">),</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;N&quot;</span><span class="p">),</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="o">-</span><span class="mf">5.0e005</span><span class="p">,</span> <span class="s2">&quot;N&quot;</span><span class="p">),</span>
<span class="p">]</span>

<span class="c1"># Add a bolt presentation to the static structural analysis</span>
<span class="n">bolt_presentation</span> <span class="o">=</span> <span class="n">static_structural</span><span class="o">.</span><span class="n">AddBoltPretension</span><span class="p">()</span>
<span class="c1"># Set the bolt presentation location for the shank_surface object</span>
<span class="n">set_mesh_method_location</span><span class="p">(</span><span class="n">bolt_presentation</span><span class="p">,</span> <span class="s2">&quot;shank_surface&quot;</span><span class="p">)</span>

<span class="c1"># Define the bolt presentation input and output components</span>
<span class="n">bolt_presentation</span><span class="o">.</span><span class="n">Preload</span><span class="o">.</span><span class="n">Inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">DiscreteValues</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">),</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">),</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">),</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">),</span>
<span class="p">]</span>
<span class="n">bolt_presentation</span><span class="o">.</span><span class="n">Preload</span><span class="o">.</span><span class="n">Output</span><span class="o">.</span><span class="n">DiscreteValues</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mf">6.1363e005</span><span class="p">,</span> <span class="s2">&quot;N&quot;</span><span class="p">),</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;N&quot;</span><span class="p">),</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;N&quot;</span><span class="p">),</span>
    <span class="n">Quantity</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;N&quot;</span><span class="p">),</span>
<span class="p">]</span>
<span class="n">bolt_presentation</span><span class="o">.</span><span class="n">SetDefineBy</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">BoltLoadDefineBy</span><span class="o">.</span><span class="n">Lock</span><span class="p">)</span>
<span class="n">bolt_presentation</span><span class="o">.</span><span class="n">SetDefineBy</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">BoltLoadDefineBy</span><span class="o">.</span><span class="n">Lock</span><span class="p">)</span>
<span class="n">bolt_presentation</span><span class="o">.</span><span class="n">SetDefineBy</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">BoltLoadDefineBy</span><span class="o">.</span><span class="n">Lock</span><span class="p">)</span>

<span class="c1"># Activate the bolt presentation</span>
<span class="n">app</span><span class="o">.</span><span class="n">Tree</span><span class="o">.</span><span class="n">Activate</span><span class="p">([</span><span class="n">bolt_presentation</span><span class="p">])</span>

<span class="c1"># Set the image path for the loads and boundary conditions</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">loads_boundary_conditions_image_path</span></a> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">output_path</span></a> <span class="o">/</span> <span class="s2">&quot;loads_boundary_conditions.png&quot;</span><span class="p">)</span>
<span class="c1"># Export the image of the loads and boundary conditions</span>
<span class="n">graphics</span><span class="o">.</span><span class="n">ExportImage</span><span class="p">(</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">loads_boundary_conditions_image_path</span></a><span class="p">,</span>
    <span class="n">image_export_format</span><span class="p">,</span>
    <span class="n">graphics_image_export_settings</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Display the image of the loads and boundary conditions</span>
<span class="n">display_image</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">loads_boundary_conditions_image_path</span></a><span class="p">)</span>
</pre></div>
</div>
<img src="../../../_images/sphx_glr_bolt_pretension_003.png" srcset="../../../_images/sphx_glr_bolt_pretension_003.png" alt="bolt pretension" class = "sphx-glr-single-img"/></section>
<section id="insert-results">
<h2>Insert results<a class="headerlink" href="#insert-results" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add a contact tool to the static structural solution and set the scoping method for it</span>
<span class="n">post_contact_tool</span> <span class="o">=</span> <span class="n">static_structural_solution</span><span class="o">.</span><span class="n">AddContactTool</span><span class="p">()</span>
<span class="n">post_contact_tool</span><span class="o">.</span><span class="n">ScopingMethod</span> <span class="o">=</span> <span class="n">GeometryDefineByType</span><span class="o">.</span><span class="n">Worksheet</span>

<span class="c1"># Add a bolt tool to the static structural solution and add a working load to it</span>
<span class="n">bolt_tool</span> <span class="o">=</span> <span class="n">static_structural_solution</span><span class="o">.</span><span class="n">AddBoltTool</span><span class="p">()</span>
<span class="n">bolt_tool</span><span class="o">.</span><span class="n">AddWorkingLoad</span><span class="p">()</span>

<span class="c1"># Add the total deformation to the static structural solution</span>
<span class="n">total_deformation</span> <span class="o">=</span> <span class="n">static_structural_solution</span><span class="o">.</span><span class="n">AddTotalDeformation</span><span class="p">()</span>

<span class="c1"># Add equivalent stress to the static structural solution</span>
<span class="n">equivalent_stress_1</span> <span class="o">=</span> <span class="n">static_structural_solution</span><span class="o">.</span><span class="n">AddEquivalentStress</span><span class="p">()</span>

<span class="c1"># Add equivalent stress to the static structural solution and set the location for the shank object</span>
<span class="n">equivalent_stress_2</span> <span class="o">=</span> <span class="n">static_structural_solution</span><span class="o">.</span><span class="n">AddEquivalentStress</span><span class="p">()</span>
<span class="n">set_mesh_method_location</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">equivalent_stress_2</span><span class="p">,</span> <span class="n">object_name</span><span class="o">=</span><span class="s2">&quot;shank&quot;</span><span class="p">)</span>

<span class="c1"># Add a force reaction to the static structural solution and set the boundary condition selection</span>
<span class="c1"># to the fixed support</span>
<span class="n">force_reaction_1</span> <span class="o">=</span> <span class="n">static_structural_solution</span><span class="o">.</span><span class="n">AddForceReaction</span><span class="p">()</span>
<span class="n">force_reaction_1</span><span class="o">.</span><span class="n">BoundaryConditionSelection</span> <span class="o">=</span> <span class="n">fixed_support</span>

<span class="c1"># Add a moment reaction to the static structural solution and set the boundary condition selection</span>
<span class="c1"># to the fixed support</span>
<span class="n">moment_reaction_2</span> <span class="o">=</span> <span class="n">static_structural_solution</span><span class="o">.</span><span class="n">AddMomentReaction</span><span class="p">()</span>
<span class="n">moment_reaction_2</span><span class="o">.</span><span class="n">BoundaryConditionSelection</span> <span class="o">=</span> <span class="n">fixed_support</span>
</pre></div>
</div>
</section>
<section id="solve-the-static-structural-solution">
<h2>Solve the static structural solution<a class="headerlink" href="#solve-the-static-structural-solution" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Solve the static structural solution and wait for it to finish</span>
<span class="n">static_structural_solution</span><span class="o">.</span><span class="n">Solve</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="show-messages">
<h2>Show messages<a class="headerlink" href="#show-messages" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print all messages from Mechanical</span>
<span class="n">app</span><span class="o">.</span><span class="n">messages</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Severity: Info
DisplayString: All contact results of contacts with MPC formulation are zero since constraint equations are used to bond the mesh together. Review results of the parts underlying the contact surfaces for more information.
Severity: Warning
DisplayString: One or more MPC or Lagrange Multiplier formulation based contact regions or remote boundary conditions may have conflicts with other applied boundary conditions or other contact or symmetry regions. This may reduce solution accuracy. For MPC based remote points, setting the relaxation method may help eliminate overconstraint. Tip: You may graphically display FE Connections from the Solution Information Object for non-cyclic analysis. Refer to Troubleshooting in the Help System for more details.
Severity: Warning
DisplayString: At least one body has been found to have only 1 element in at least 2 directions along with reduced integration.  This situation can lead to invalid results or solver pivot errors.  Consider changing to full integration element control or meshing with more elements.  Offending bodies can be identified by Right-clicking in the Geometry window and choose Go To -&gt; Bodies With One Element Through the Thickness.  Refer to Troubleshooting in the Help System for more details.
Severity: Info
DisplayString: The requested license was received from the License Manager after 17 seconds.
</pre></div>
</div>
</section>
<section id="display-the-results">
<h2>Display the results<a class="headerlink" href="#display-the-results" title="Link to this heading">#</a></h2>
<p>Total deformation</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Activate the object</span>
<span class="n">app</span><span class="o">.</span><span class="n">Tree</span><span class="o">.</span><span class="n">Activate</span><span class="p">([</span><span class="n">total_deformation</span><span class="p">])</span>
<span class="c1"># Set the camera to fit the model</span>
<span class="n">camera</span><span class="o">.</span><span class="n">SetFit</span><span class="p">()</span>
<span class="c1"># Set the image name and path for the object</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">image_path</span></a> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">output_path</span></a> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;total_deformation.png&quot;</span><span class="p">)</span>
<span class="c1"># Export the image of the object</span>
<span class="n">app</span><span class="o">.</span><span class="n">Graphics</span><span class="o">.</span><span class="n">ExportImage</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">image_path</span></a><span class="p">,</span> <span class="n">image_export_format</span><span class="p">,</span> <span class="n">graphics_image_export_settings</span><span class="p">)</span>
<span class="c1"># Display the image of the object</span>
<span class="n">display_image</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">image_path</span></a><span class="p">)</span>
</pre></div>
</div>
<img src="../../../_images/sphx_glr_bolt_pretension_004.png" srcset="../../../_images/sphx_glr_bolt_pretension_004.png" alt="bolt pretension" class = "sphx-glr-single-img"/><p>Equivalent stress on all bodies</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Activate the object</span>
<span class="n">app</span><span class="o">.</span><span class="n">Tree</span><span class="o">.</span><span class="n">Activate</span><span class="p">([</span><span class="n">equivalent_stress_1</span><span class="p">])</span>
<span class="c1"># Set the camera to fit the model</span>
<span class="n">camera</span><span class="o">.</span><span class="n">SetFit</span><span class="p">()</span>
<span class="c1"># Set the image name and path for the object</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">image_path</span></a> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">output_path</span></a> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;equivalent_stress_all_bodies.png&quot;</span><span class="p">)</span>
<span class="c1"># Export the image of the object</span>
<span class="n">app</span><span class="o">.</span><span class="n">Graphics</span><span class="o">.</span><span class="n">ExportImage</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">image_path</span></a><span class="p">,</span> <span class="n">image_export_format</span><span class="p">,</span> <span class="n">graphics_image_export_settings</span><span class="p">)</span>
<span class="c1"># Display the image of the object</span>
<span class="n">display_image</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">image_path</span></a><span class="p">)</span>
</pre></div>
</div>
<img src="../../../_images/sphx_glr_bolt_pretension_005.png" srcset="../../../_images/sphx_glr_bolt_pretension_005.png" alt="bolt pretension" class = "sphx-glr-single-img"/><p>Equivalent stress on the shank</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Activate the object</span>
<span class="n">app</span><span class="o">.</span><span class="n">Tree</span><span class="o">.</span><span class="n">Activate</span><span class="p">([</span><span class="n">equivalent_stress_2</span><span class="p">])</span>
<span class="c1"># Set the camera to fit the model</span>
<span class="n">camera</span><span class="o">.</span><span class="n">SetFit</span><span class="p">()</span>
<span class="c1"># Set the image name and path for the object</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">image_path</span></a> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">output_path</span></a> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;equivalent_stress_shank.png&quot;</span><span class="p">)</span>
<span class="c1"># Export the image of the object</span>
<span class="n">app</span><span class="o">.</span><span class="n">Graphics</span><span class="o">.</span><span class="n">ExportImage</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">image_path</span></a><span class="p">,</span> <span class="n">image_export_format</span><span class="p">,</span> <span class="n">graphics_image_export_settings</span><span class="p">)</span>
<span class="c1"># Display the image of the object</span>
<span class="n">display_image</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">image_path</span></a><span class="p">)</span>
</pre></div>
</div>
<img src="../../../_images/sphx_glr_bolt_pretension_006.png" srcset="../../../_images/sphx_glr_bolt_pretension_006.png" alt="bolt pretension" class = "sphx-glr-single-img"/></section>
<section id="export-and-display-the-contact-status-animation">
<h2>Export and display the contact status animation<a class="headerlink" href="#export-and-display-the-contact-status-animation" title="Link to this heading">#</a></h2>
<p>Create a function to update the animation frames</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">update_animation</span><span class="p">(</span><span class="n">frame</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><a href="https://matplotlib.org/stable/api/image_api.html#matplotlib.image.AxesImage" title="matplotlib.image.AxesImage" class="sphx-glr-backref-module-matplotlib-image sphx-glr-backref-type-py-class"><span class="n">mpimg</span><span class="o">.</span><span class="n">AxesImage</span></a><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update the animation frame for the GIF.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    frame : int</span>
<span class="sd">        The frame number to update the animation.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list[mpimg.AxesImage]</span>
<span class="sd">        A list containing the updated image for the animation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Seeks to the given frame in this sequence file</span>
    <span class="n">gif</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
    <span class="c1"># Set the image array to the current frame of the GIF</span>
    <a href="https://matplotlib.org/stable/api/image_api.html#matplotlib.image.AxesImage" title="matplotlib.image.AxesImage" class="sphx-glr-backref-module-matplotlib-image sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">image</span></a><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">gif</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s2">&quot;RGBA&quot;</span><span class="p">))</span>
    <span class="c1"># Return the updated image</span>
    <span class="k">return</span> <span class="p">[</span><a href="https://matplotlib.org/stable/api/image_api.html#matplotlib.image.AxesImage" title="matplotlib.image.AxesImage" class="sphx-glr-backref-module-matplotlib-image sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">image</span></a><span class="p">]</span>
</pre></div>
</div>
<p>Export and display the contact status animation</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the post contact tool status</span>
<span class="n">post_contact_tool_status</span> <span class="o">=</span> <span class="n">post_contact_tool</span><span class="o">.</span><span class="n">Children</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Activate the post contact tool status in the tree</span>
<span class="n">app</span><span class="o">.</span><span class="n">Tree</span><span class="o">.</span><span class="n">Activate</span><span class="p">([</span><span class="n">post_contact_tool_status</span><span class="p">])</span>

<span class="c1"># Set the camera to fit the model</span>
<span class="n">camera</span><span class="o">.</span><span class="n">SetFit</span><span class="p">()</span>

<span class="c1"># Set the animation export format and settings</span>
<span class="n">animation_export_format</span> <span class="o">=</span> <span class="n">GraphicsAnimationExportFormat</span><span class="o">.</span><span class="n">GIF</span>
<span class="n">animation_export_settings</span> <span class="o">=</span> <span class="n">Ansys</span><span class="o">.</span><span class="n">Mechanical</span><span class="o">.</span><span class="n">Graphics</span><span class="o">.</span><span class="n">AnimationExportSettings</span><span class="p">()</span>
<a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">animation_export_settings</span><span class="o">.</span><span class="n">Width</span></a> <span class="o">=</span> <span class="mi">1280</span>
<a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">animation_export_settings</span><span class="o">.</span><span class="n">Height</span></a> <span class="o">=</span> <span class="mi">720</span>

<span class="c1"># Set the path for the contact status GIF</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">contact_status_gif_path</span></a> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">output_path</span></a> <span class="o">/</span> <span class="s2">&quot;contact_status.gif&quot;</span><span class="p">)</span>

<span class="c1"># Export the contact status animation to a GIF file</span>
<span class="n">post_contact_tool_status</span><span class="o">.</span><span class="n">ExportAnimation</span><span class="p">(</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">contact_status_gif_path</span></a><span class="p">,</span> <span class="n">animation_export_format</span><span class="p">,</span> <span class="n">animation_export_settings</span>
<span class="p">)</span>

<span class="c1"># Open the GIF file and create an animation</span>
<span class="n">gif</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">contact_status_gif_path</span></a><span class="p">)</span>
<span class="c1"># Set the subplots for the animation and turn off the axis</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="matplotlib.figure.Figure" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">figure</span></a><span class="p">,</span> <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html#matplotlib.axes.Axes" title="matplotlib.axes.Axes" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">axes</span></a> <span class="o">=</span> <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.subplots.html#matplotlib.pyplot.subplots" title="matplotlib.pyplot.subplots" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span></a><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.axis.html#matplotlib.axes.Axes.axis" title="matplotlib.axes.Axes.axis" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">axes</span><span class="o">.</span><span class="n">axis</span></a><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
<span class="c1"># Change the color of the image</span>
<a href="https://matplotlib.org/stable/api/image_api.html#matplotlib.image.AxesImage" title="matplotlib.image.AxesImage" class="sphx-glr-backref-module-matplotlib-image sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">image</span></a> <span class="o">=</span> <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.imshow.html#matplotlib.axes.Axes.imshow" title="matplotlib.axes.Axes.imshow" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">axes</span><span class="o">.</span><span class="n">imshow</span></a><span class="p">(</span><span class="n">gif</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s2">&quot;RGBA&quot;</span><span class="p">))</span>

<span class="c1"># Create the animation using the figure, update_animation function, and the GIF frames</span>
<span class="c1"># Set the interval between frames to 200 milliseconds and repeat the animation</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.animation.FuncAnimation.html#matplotlib.animation.FuncAnimation" title="matplotlib.animation.FuncAnimation" class="sphx-glr-backref-module-matplotlib-animation sphx-glr-backref-type-py-class"><span class="n">FuncAnimation</span></a><span class="p">(</span>
    <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="matplotlib.figure.Figure" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">figure</span></a><span class="p">,</span>
    <span class="n">update_animation</span><span class="p">,</span>
    <span class="n">frames</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="n">gif</span><span class="o">.</span><span class="n">n_frames</span><span class="p">),</span>
    <span class="n">interval</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
    <span class="n">repeat</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">blit</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Show the animation</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.show.html#matplotlib.pyplot.show" title="matplotlib.pyplot.show" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>
</pre></div>
</div>
<img src="../../../_images/sphx_glr_bolt_pretension_007.png" srcset="../../../_images/sphx_glr_bolt_pretension_007.png" alt="bolt pretension" class = "sphx-glr-single-img"/></section>
<section id="print-the-project-tree">
<h2>Print the project tree<a class="headerlink" href="#print-the-project-tree" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">print_tree</span><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>├── Project
|  ├── Model
|  |  ├── Geometry Imports (✓)
|  |  |  ├── Geometry Import (✓)
|  |  ├── Geometry (✓)
|  |  |  ├── Solid
|  |  |  |  ├── Solid
|  |  |  ├── Solid
|  |  |  |  ├── Solid
|  |  |  ├── Solid
|  |  |  |  ├── Solid
|  |  |  ├── Solid
|  |  |  |  ├── Solid
|  |  |  ├── Solid
|  |  |  |  ├── Solid
|  |  |  ├── Solid
|  |  |  |  ├── Solid
|  |  ├── Materials (✓)
|  |  |  ├── Structural Steel (✓)
|  |  |  ├── Copper (✓)
|  |  |  ├── Steel (✓)
|  |  ├── Coordinate Systems (✓)
|  |  |  ├── Global Coordinate System (✓)
|  |  |  ├── Coordinate System (✓)
|  |  ├── Remote Points (✓)
|  |  ├── Connections (✓)
|  |  |  ├── Connection Group (✓)
|  |  |  |  ├── Contact Region (✓)
|  |  |  |  |  ├── Commands (APDL) (✓)
|  |  |  |  ├── Contact Region 2 (✓)
|  |  |  |  ├── Contact Region 3 (✓)
|  |  |  |  |  ├── Commands (APDL) (✓)
|  |  |  |  ├── Contact Region 4 (✓)
|  |  |  |  ├── Contact Region 5 (✓)
|  |  |  |  ├── Contact Region 6 (✓)
|  |  |  |  |  ├── Commands (APDL) (✓)
|  |  ├── Mesh (✓)
|  |  |  ├── Body Sizing (✓)
|  |  |  ├── Body Sizing 2 (✓)
|  |  |  ├── Automatic Method (✓)
|  |  |  ├── Face Meshing (✓)
|  |  |  ├── Method (✓)
|  |  ├── Named Selections
|  |  |  ├── block3_block2_cont (✓)
|  |  |  ├── block3_block2_targ (✓)
|  |  |  ├── shank_block3_targ (✓)
|  |  |  ├── shank_block3_cont (✓)
|  |  |  ├── block1_washer_cont (✓)
|  |  |  ├── block1_washer_targ (✓)
|  |  |  ├── washer_bolt_cont (✓)
|  |  |  ├── washer_bolt_targ (✓)
|  |  |  ├── shank_bolt_targ (✓)
|  |  |  ├── shank_bolt_cont (✓)
|  |  |  ├── block2_block1_cont (✓)
|  |  |  ├── block2_block1_targ (✓)
|  |  |  ├── all_bodies (✓)
|  |  |  ├── bodies_5 (✓)
|  |  |  ├── shank (✓)
|  |  |  ├── shank_face (✓)
|  |  |  ├── shank_face2 (✓)
|  |  |  ├── bottom_surface (✓)
|  |  |  ├── block2_surface (✓)
|  |  |  ├── shank_surface (✓)
|  |  ├── Static Structural (✓)
|  |  |  ├── Analysis Settings (✓)
|  |  |  ├── Fixed Support (✓)
|  |  |  ├── Force (✓)
|  |  |  ├── Bolt Pretension (✓)
|  |  |  ├── Solution (✓)
|  |  |  |  ├── Solution Information (✓)
|  |  |  |  ├── Total Deformation (✓)
|  |  |  |  ├── Equivalent Stress (✓)
|  |  |  |  ├── Equivalent Stress 2 (✓)
|  |  |  |  ├── Contact Tool (✓)
|  |  |  |  |  ├── Status (✓)
|  |  |  |  ├── Force Reaction (✓)
|  |  |  |  ├── Moment Reaction (✓)
|  |  |  |  ├── Bolt Tool (✓)
|  |  |  |  |  ├── Adjustment (✓)
|  |  |  |  |  ├── Working Load (✓)
... truncating after 80 lines
</pre></div>
</div>
</section>
<section id="clean-up-the-project">
<h2>Clean up the project<a class="headerlink" href="#clean-up-the-project" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Save the project</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bolt_presentation_mechdat_path</span></a> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">output_path</span></a> <span class="o">/</span> <span class="s2">&quot;bolt_pretension.mechdat&quot;</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bolt_presentation_mechdat_path</span></a><span class="p">)</span>

<span class="c1"># Close the app</span>
<span class="n">app</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Delete the example files</span>
<span class="n">delete_downloads</span><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (1 minutes 38.666 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-gallery-examples-01-basic-bolt-pretension-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../../_downloads/d38294dfa68df8a0cde8f940d02e0f2e/bolt_pretension.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">bolt_pretension.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../../_downloads/b93aa1b346c8c3f28d589d9cbe836b1f/bolt_pretension.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">bolt_pretension.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../../../_downloads/e8a3db10077f1c386921fec10d052eac/bolt_pretension.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">bolt_pretension.zip</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-the-necessary-libraries">Import the necessary libraries</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#initialize-the-embedded-application">Initialize the embedded application</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configure-graphics-for-image-export">Configure graphics for image export</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#set-the-geometry-import-group-for-the-model">Set the geometry import group for the model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-and-import-the-geometry">Download and import the geometry</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-and-import-the-materials">Download and import the materials</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#define-analysis-and-unit-system">Define analysis and unit system</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#add-and-define-a-coordinate-system">Add and define a coordinate system</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-functions-for-contact-region-set-up">Create functions for contact region set up</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#add-and-define-contact-regions">Add and define contact regions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-functions-to-set-up-the-mesh">Create functions to set up the mesh</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#add-mesh-methods-sizing-and-face-meshing">Add mesh methods, sizing, and face meshing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analysis-settings">Analysis settings</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#define-loads-and-boundary-conditions">Define loads and boundary conditions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#insert-results">Insert results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#solve-the-static-structural-solution">Solve the static structural solution</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#show-messages">Show messages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#display-the-results">Display the results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#export-and-display-the-contact-status-animation">Export and display the contact status animation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#print-the-project-tree">Print the project tree</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clean-up-the-project">Clean up the project</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item"> 
<div class="tocsection editthispage">
  <a href="https://github.com/pyansys/pymechanical/edit/main/doc/source/examples/gallery_examples/01_basic/bolt_pretension.rst">
    <i class="fa-solid fa-pencil"></i>
       Edit
    on GitHub  
  </a>
</div>

</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>


  <!-- Include desired assets -->
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.7/require.min.js"></script>

<script>
// Passing the search options to the search.js file
const SEARCH_OPTIONS = JSON.parse('{"keys": ["title", "text", "objectID"], "limit": 10, "threshold": 0.2}');
const SEARCH_FILE = "../../../_static/search.json";
const ADVANCE_SEARCH_PATH = "../../../search.html";
const EXTRA_SOURCES = JSON.parse('""');
</script>


<script src="../../../_static/js/search.js"></script>

  
  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright (c) 2025 ANSYS, Inc. All rights reserved.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the
  <a href="https://sphinxdocs.ansys.com/version/stable/index.html"
    >Ansys Sphinx Theme</a
  >
  1.6.1. <br />Last updated on
  <span id="ast_build_date"></span>
</p>
<script>
  var options = { day: "numeric", month: "long", year: "numeric" };
  var ast_lastModifiedDate = new Date(document.lastModified);
  var ast_build_date = ast_lastModifiedDate.toLocaleDateString("en-US", options);
  document.getElementById("ast_build_date").innerHTML = ast_build_date;
</script></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>